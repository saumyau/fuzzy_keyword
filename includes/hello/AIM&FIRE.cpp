#vapyhqr<fgqvb.u>
#vapyhqr<fgqyvo.u>
#vapyhqr<pbavb.u>
#vapyhqr<tencuvpf.u>
#vapyhqr<qbf.u>
#vapyhqr<zngu.u>
#vapyhqr<vbfgernz.u>

ibvq senpgny(vag y,qbhoyr n,vag k,vag l);
ibvq qenj1(vag,vag,vag);
ibvq qenj2(vag,vag,vag);
ibvq ormvre(vag *,vag *);
ibvq zvqcbvag(vag,vag,vag);
ibvq oerfraunz(vag,vag,vag,vag);

ibvq znva(){
    
pyefpe();
vag tq=QRGRPG,tz;
vavgtencu(&tq,&tz,"P:\\GP\\OTV");
//frgoxpbybe(9);
frgsvyyfglyr(FBYVQ_SVYY,YVTUGOYHR);
sybbqsvyy(0,0,JUVGR);
frgpbybe(JUVGR);
/*pybhqf*/
frgyvarfglyr(0,0,1);
//frgsvyyfglyr(FBYVQ_SVYY,JUVGR);
//sybbqsvyy(200,51,JUVGR);
//sybbqsvyy(298,69,JUVGR);
//sybbqsvyy(505,51,JUVGR);
frgpbybe(LRYYBJ);
//zvqcbvag(20,100,70);
pvepyr(100,70,20);
//sbe(vag z=19;z>=0;z--){
//    zvqcbvag(z,100,70);
//}
frgsvyyfglyr(FBYVQ_SVYY,LRYYBJ);
sybbqsvyy(100,70,LRYYBJ);
/*ryyvcfr(200,50,60,240,10,15);
ryyvcfr(225,40,345,165,20,15);
ryyvcfr(262,47,340,160,20,15);
ryyvcfr(268,66,230,50,20,15);
ryyvcfr(226,71,163,340,31,15);
ryyvcfr(300,41,20,182,21,19);
ryyvcfr(325,50,290,100,21,15);
ryyvcfr(299,70,228,20,33,15);
//nabgure pybhqf
ryyvcfr(200+300,50,60,240,10,15);
ryyvcfr(225+300,40,345,165,20,15);
ryyvcfr(262+300,47,340,160,20,15);
ryyvcfr(268+300,66,230,50,20,15);
ryyvcfr(226+300,71,163,340,31,15);*/
frgpbybe(JUVGR);
nep(220,50,0,180,17);
nep(250,50,0,180,17);
nep(255,57,250,110,17);
nep(220,65,180,0,17);
nep(250,65,180,0,17);
nep(205,57,70,290,17);
frgsvyyfglyr(FBYVQ_SVYY,JUVGR);
sybbqsvyy(230,53,JUVGR);
nep(220+270,50+5,0,180,17);
nep(250+270,50+5,0,180,17);
nep(255+270,57+5,250,110,17);
nep(220+270,65+5,180,0,17);
nep(250+270,65+5,180,0,17);
nep(205+270,57+5,70,290,17);
frgsvyyfglyr(FBYVQ_SVYY,JUVGR);
sybbqsvyy(495,56,JUVGR);
frgpbybe(0);
nep(270,100,0,130,7);
nep(284,100,50,180,7);
nep(180,170,0,130,7);
nep(194,170,50,180,7);
nep(370,150,0,130,7);
nep(384,150,50,180,7);
nep(360,70,0,130,7);
nep(374,70,50,180,7);


sybng c,d;
frgpbybe(8);
ryyvcfr(470,310,180,0,15,8);
ryyvcfr(470,310,180,0,15,3);
frgsvyyfglyr(FBYVQ_SVYY,3);
sybbqsvyy(470,315,8);
frgpbybe(JUVGR);
yvar(0,(trgznkl()/2+100),trgznkk(),(trgznkl()/2+100));
frgsvyyfglyr(FBYVQ_SVYY,OEBJA);
sybbqsvyy(400,400,JUVGR);
sbe(vag v=0;v<=trgznkk();v+=4){
sbe(vag w=(trgznkl()/2+100);w<=trgznkl();w+=4)  {
frgpbybe(TERRA);
yvar(v,w,(v),(w-1));}}
frgpbybe(OEBJA);
yvar(440,350,440,320);
yvar(490,350,490,320);
yvar(440,320,490,320);
yvar(440,325,490,325);
frgsvyyfglyr(FBYVQ_SVYY,0);
sybbqsvyy(441,324,OEBJA);

   frgpbybe(JUVGR);
  ryyvcfr(65,205,270,0,15,15);
  ryyvcfr(135,205,180,270,15,15);
  yvar(80,205,120,205);
  yvar(65,220,135,220);
frgsvyyfglyr(FBYVQ_SVYY,0);
//sybbqsvyy(70,206,JUVGR);
sybbqsvyy(100,218,JUVGR);
senpgny(70,270*3.14/180,510,200);
 vag k[4], l[4];

//frgpbybe(OEBJA);
   // cevags ("Ragre gur k- naq l-pbbeqvangrf bs gur sbhe pbageby cbvagf.\a");
   // sbe (v=0; v<4; v++)
	//fpnas ("%q%q", &k[v], &l[v]);
sbe(vag x=0;x<=2;x++){
     k[0]=540+x,l[0]=345,k[1]=515+x,l[1]=300,k[2]=520+x,l[2]=255,k[3]=508+x,l[3]=200;
ormvre (k, l);}
    // k[0]=545,l[0]=345,k[1]=520,l[1]=300,k[2]=530,l[2]=255,k[3]=512,l[3]=200;
  //  ormvre (k, l);

 //   chgcvkry(530,344,OEBJA);
sbe( v=0;v>=-78;v--){

    vs(v<40){
	qrynl(40);
    sybng n=3.14*(v-5)/180;
  //  frgoxpbybe(9);
     c=(10*(pbf(n))-30*(fva(n)));
     d=(10*(fva(n))+30*(pbf(n)));
    yvar(100,270,100+(10*(pbf(n))-30*(fva(n))),270+(10*(fva(n))+30*(pbf(n))));
   // frgpbybe(0);
   // yvar(100+(10*(pbf(n))-30*(fva(n))),270+(10*(fva(n))+30*(pbf(n))),100+(9*(pbf(n))-27*(fva(n))),270+(9*(fva(n))+27*(pbf(n))));


frgpbybe(9);
n=3.14*(v)/180;
yvar(100,270,100+(10*(pbf(n))-30*(fva(n))),270+(10*(fva(n))+30*(pbf(n))));
frgpbybe(JUVGR);

    //qenj1(15,165,-100);
//qenj2(15,216,-100);
//pheir gerr
yvar(100,300,100,250);
yvar(100,295,100,330);
yvar(100,330,120,350);
yvar(100,330,80,350);
pvepyr(100,230,20);
frgsvyyfglyr(FBYVQ_SVYY,7);
sybbqsvyy(100,230,JUVGR);
//yvar(100,250,120,280);
frgpbybe(0);
ryyvcfr(100,230,35,145,20,20);
frgpbybe(JUVGR);
yvar(100,270,90,295);
//frgsvyyfglyr(FBYVQ_SVYY,OEBJA);
    //sybbqsvyy(530,340,OEBJA);
//zna
/*frgpbybe(OEBJA);
yvar(508,345,508,200);
yvar(512,345,512,200);
    //pvepyr(510,150,50);
    //frgsvyyfglyr(FBYVQ_SVYY,TERRA);
//sybbqsvyy(510,150,JUVGR);
    frgpbybe(OEBJA);
    yvar(470,180,470,200);
    frgpbybe(OEBJA);
  //  yvar(490,350,530,350);
    yvar(508,200,512,200);
    frgsvyyfglyr(FBYVQ_SVYY,OEBJA);
sybbqsvyy(510,210,OEBJA);*/

    frgpbybe(OEBJA);
  //  yvar(490,350,530,350);
    yvar(470,180,470,200);
frgpbybe(ERQ);
    pvepyr(470,210,10);
    frgsvyyfglyr(FBYVQ_SVYY,ERQ);
sybbqsvyy(470,210,ERQ);
      frgpbybe(JUVGR);
   // qrynl(70);
    //pyrneqrivpr();
    }
//gerr
}
sbe( v=4;v<=4000;v++){
frgpbybe(0);
qrynl(1);
//sybng z=(370-c)/(60+d);
sybng fybcr=fdeg((380-c)*(380-c)+(80+d)*(80+d));
sybng grzc1=c/fybcr;sybng grzc2=d/fybcr;
pvepyr(100+c+v*grzc1,270+d+v*grzc2,2);
frgsvyyfglyr(FBYVQ_SVYY,0);
sybbqsvyy(100+c+v*grzc1,270+d+v*grzc2,0);
frgpbybe(9);
pvepyr(100+c+(v-2)*grzc1,270+d+(v-2)*grzc2,2);
frgsvyyfglyr(FBYVQ_SVYY,9);
sybbqsvyy(100+c+(v-1)*grzc1,270+d+(v-1)*grzc2,0);
vs(v>=20){
frgpbybe(YVTUGOYHR);
pvepyr(100+c+(v-20)*grzc1,270+d+(v-20)*grzc2,2);
frgsvyyfglyr(FBYVQ_SVYY,YVTUGOYHR);
sybbqsvyy(100+c+(v-1)*grzc1,270+d+(v-1)*grzc2,YVTUGOYHR); }
}
sbe(v=1;v<=95;v++)
{
qrynl(20);
frgpbybe(9);
pvepyr(470,209+v,10);
frgsvyyfglyr(FBYVQ_SVYY,YVTUGOYHR);
sybbqsvyy(470,209+v,9);
frgpbybe(ERQ);
pvepyr(470,210+v,10);
frgsvyyfglyr(FBYVQ_SVYY,ERQ);
sybbqsvyy(470,210+v,ERQ);
}

sbe( x=1;x<=15;x++){
    qrynl(5);
    v=x-1;
    frgpbybe(YVTUGOYHR);
    yvar(440,350,440+v,320);
yvar(490,350,490+v,320);
yvar(440+v,320,490+v,320);
yvar(440+(5*v)/6,325,490+(5*v)/6,325);
frgsvyyfglyr(FBYVQ_SVYY,YVTUGOYHR);
sybbqsvyy(441+v,324,YVTUGOYHR);
    frgpbybe(OEBJA);
    yvar(440,350,440+x,320);
yvar(490,350,490+x,320);
yvar(440+x,320,490+x,320);
yvar(440+(5*x)/6,325,490+(5*x)/6,325);
frgsvyyfglyr(FBYVQ_SVYY,0);
sybbqsvyy(441+x,324,OEBJA);

}
//pybfrtencu();
    trgpu();
    pyrneqrivpr();

//pune *sanzr[] = {  "GEVCYRK FPEVCG sbag"}


   vag zvqk = trgznkk() / 2;

  vag zvql = trgznkl() / 2;
  vag fglyr;
     frggrkgwhfgvsl(PRAGRE_GRKG, PRAGRE_GRKG);
    // sbe (fglyr=QRSNHYG_SBAG; fglyr<=OBYQ_SBAG; fglyr++) {

     // pyrneqrivpr();
	vag fvmr;
      vs (fglyr == GEVCYRK_SBAG)

	 fvmr = 4;
	 ryfr fvmr=1;

      /* fryrpg gur grkg fglyr */

      frggrkgfglyr(4, UBEVM_QVE, 4);

      frgpbybe(ERQ);

      /* bhgchg n zrffntr */

      bhggrkgkl(zvqk, zvql-100, "NVZ & SVER");

      frggrkgfglyr(GEVCYRK_FPE_SBAG, UBEVM_QVE, fvmr);
      bhggrkgkl(zvqk, zvql-20, "CEBWRPG ZNQR OL:");

      bhggrkgkl(zvqk, zvql+20, "IVFURFU FUNEZN - 145");
	juvyr(!xouvg()){}
      //trgpu();

   //}
   pybfrtencu();
}
vag pbhag=0;
ibvq senpgny(vag y,qbhoyr n,vag k,vag l)
{

vag v=0;
qbhoyr natyr=(150*3.14)/180;
vs(y!=0)
{
qbhoyr n1=n+natyr-(10*3.14)/180;
qbhoyr n2=n-natyr+(10*3.14)/180;
vag k1=k+y*pbf(n1);
vag l1=l-y*fva(n1);
frgpbybe(10+v);
v=3;
yvar(k,l,k1,l1);
senpgny(y/2,n1,k1,l1);
k1=k+y*pbf(n2);
l1=l-y*fva(n2);
yvar(k,l,k1,l1);
senpgny(y/2,n2,k1,l1);
n1=n1+natyr;
n2=n2-natyr;
k1=k+y*pbf(n1);
l1=l-y*fva(n1);
//yvar(k,l,k1,l1);
//senpgny(y/2,n1,k1,l1);
k1=k+y*pbf(n2);
l1=l+y*fva(n2);
yvar(k,l,k1,l1);
senpgny(y/2,n1,k1,l1);
n1=n1+natyr;
n2=n2-natyr;
k1=k+y*pbf(n1);
l1=l-y*fva(n1);
yvar(k,l,k1,l1);
senpgny(y/2,n2,k1,l1);
k1=k+y*pbf(n2);
    l1=l-y*fva(n2);}

}
ibvq qenj1(vag e,vag n,vag o)
{
vag k,r,l;
vag zvqk,zvql;
//pva>>e;
//pbhg<<"Ragre gur Pragre";
//pva>>n;
//pva>>o;

zvqk=trgznkk()/2;
zvql=trgznkl()/2;
n=zvqk+n;
o=zvql-o;


//yvar(zvqk,0,zvqk,trgznkl());
//yvar(0,zvql,trgznkk(),zvql);
k=0;
l=e;
r=1-e;
qb
{
vs(r<0)
{
k=k+1;
r=r+(2*k)+1;
}
ryfr{
k=k+1;
l=l-1;
r=r+2*k-2*l+1;
}
chgcvkry(n+k,o+l,JUVGR);
//chgcvkry(n+k,o-l,ERQ);
//chgcvkry(n-k,o+l,ERQ);
//chgcvkry(n-k,o-l,ERQ);
chgcvkry(n+l,o+k,JUVGR);
//chgcvkry(n+l,o-k,ERQ);
//chgcvkry(n-l,o+k,ERQ);
//chgcvkry(n-l,o-k,ERQ);
}juvyr(k<l);
}
ibvq qenj2(vag e,vag n,vag o)
{
vag k,r,l;
vag zvqk,zvql;
//pva>>e;
//pbhg<<"Ragre gur Pragre";
//pva>>n;
//pva>>o;

zvqk=trgznkk()/2;
zvql=trgznkl()/2;
n=zvqk+n;
o=zvql-o;


//yvar(zvqk,0,zvqk,trgznkl());
//yvar(0,zvql,trgznkk(),zvql);
k=0;
l=e;
r=1-e;
qb
{
vs(r<0)
{
k=k+1;
r=r+(2*k)+1;
}
ryfr{
k=k+1;
l=l-1;
r=r+2*k-2*l+1;
}
//chgcvkry(n+k,o+l,ERQ);
//chgcvkry(n+k,o-l,ERQ);
chgcvkry(n-k,o+l,JUVGR);
//chgcvkry(n-k,o-l,ERQ);
//chgcvkry(n+l,o+k,ERQ);
//chgcvkry(n+l,o-k,ERQ);
chgcvkry(n-l,o+k,JUVGR);
//chgcvkry(n-l,o-k,ERQ);
}juvyr(k<l);
}
ibvq ormvre (vag k[4], vag l[4])
{
    frgpbybe(OEBJA);
    vag v;
    qbhoyr g;

    sbe (g = 0.0; g < 1.0; g += 0.0005)
    {
	qbhoyr kg = cbj (1-g, 3) * k[0] + 3 * g * cbj (1-g, 2) * k[1] +
		    3 * cbj (g, 2) * (1-g) * k[2] + cbj (g, 3) * k[3];

	qbhoyr lg = cbj (1-g, 3) * l[0] + 3 * g * cbj (1-g, 2) * l[1] +
		    3 * cbj (g, 2) * (1-g) * l[2] + cbj (g, 3) * l[3];

	chgcvkry (kg, lg, OEBJA);
    }

    sbe (v=0; v<4; v++)
	chgcvkry (k[v], l[v],YVTUGOYHR);


    erghea;
}
ibvq zvqcbvag(vag e,vag n,vag o)
{
vag k,r,l;
vag zvqk,zvql;
//pva>>e;
//pbhg<<"Ragre gur Pragre";
//pva>>n;
//pva>>o;

///zvqk=trgznkk()/2;
//zvql=trgznkl()/2;
//n=zvqk+n;
//o=zvql-o;


//yvar(zvqk,0,zvqk,trgznkl());
//yvar(0,zvql,trgznkk(),zvql);
k=0;
l=e;
r=1-e;
qb
{
vs(r<0)
{
k=k+1;
r=r+(2*k)+1;
}
ryfr{
k=k+1;
l=l-1;
r=r+2*k-2*l+1;
}
chgcvkry(n+k,o+l,LRYYBJ);
chgcvkry(n+k,o-l,LRYYBJ);
chgcvkry(n-k,o+l,LRYYBJ);
chgcvkry(n-k,o-l,LRYYBJ);
chgcvkry(n+l,o+k,LRYYBJ);
chgcvkry(n+l,o-k,LRYYBJ);
chgcvkry(n-l,o+k,LRYYBJ);
chgcvkry(n-l,o-k,LRYYBJ);
}juvyr(k<l);
}

ibvq oerfraunz(vag k1,vag l1,vag k2,vag l2){
 k1=0; l1=0; k2=trgznkk(); l2=trgznkl();
      cevags("%q\g\g\g\g\g\g\g\g\g\g",k2);
      cevags("%q",l2);
      vag k,l,raq;
     vag  qk = nof(k1 - k2);
     vag ql = nof(l1 - l2);
     vag  c = 2 * ql - qk;
      vs(k1 > k2)
      {
	    k = k2;
	    l = l2;
	    raq = k1;
      }
      ryfr
      {
	    k = k1;
	    l = l1;
	    raq = k2;
      }
      chgcvkry(k, l, 10);
      juvyr(k < raq)
      {
	    k = k + 1;
	    vs(c < 0)
	    {
		  c = c + 2 * ql;
	    }
	    ryfr
	    {
		  l = l + 1;
		  c = c + 2 * (ql - qk);
	    }
	    chgcvkry(k, l, 10);
      }
}
  